---
layout: post
title: Chapter2 변수_2
comments: true
category: [computer-science, java-basic]
tags: [computer-science, java-basic]
image: /assets/img/blog/java-main.jpeg
accent_image: 
  background: url('/assets/img/blog/jj-ying.jpg') center/cover
  overlay: false
accent_color: '#ccc'
theme_color: '#ccc'
description: >
  자바의 정석
invert_sidebar: true
---

# 자바의 정석

자바의 정석 Chapter2
- 어떤 프로그래밍 언어를 시작하든 가장 기본적으로 배우는 부분이 변수 & 자료형 파트이다. 내용 역시 비슷한 부분들이 많다. 그래서 알게모르게 넘어가는 부분이 많은데 사실 알고리즘을 포함한 다른 프로그래밍을 하기 위해서 가장 기초적인 부분인만큼 조금 더 자세히 공부해볼 예정이다.

* toc
{:toc}

## 진법

### 10진법과 2진법
- 1946년 개발된 에니악은 10진법을 사용하도록 설계되었으나 전기회로는 전압이 불안정하여 전압을 10단계로 나누어 처리하는데 한계 존재
- 1950년 개발된 에드박은 전기가 흐르면 1, 흐르지 않으면 0으로 동작하도록 설계 ➜ 성공적
- 2진수는 10진수를 완벽히 표현가능하며 연산 역시 동일

### 비트(bit)와 바이트(byte)
- 비트(bit, binary digit): 한 자리의 2진수, 컴퓨터가 값을 저장할 수 있는 최소단위
- 바이트(byte): 1비트는 너무 작은 단위이기 때문에 1비트 8개를 묶어 바이트 정의
- 워드(word): CPU가 한 번에 처리할 수 있는 데이터의 크기
  - 32비트 CPU에서 1워드는 32비트(4바이트), 64비트 CPU에서는 64비트(8바이트)

> n비트로 표현할 수 있는 10진수
> 
> 값의 개수: 2^n
> 
> 값의 범위: 0 ~ 2^n-1

### 8진법과 16진법
- 8진수는 2진수 3자리를, 16진수는 2진수 4자리를 각각 한자리로 표현할 수 있기 때문에 자리수가 짧아져서 알아보기 쉽고 서로 간의 변환방법 또한 간단함
![2진수를 8진수, 16진수로 변환하기](/assets/img/blog/java-basic-3-1.jpeg){:.border.lead width="480" height="480" loading="lazy"}

### 정수의 진법 변환
- 10진수를 n진수로 변환
  - 주어진 수를 해당 진수로 더이상 나눌수 없을때까지 반복한 다음, 마지막 몫과 나머지를 아래부터 위로 순서대로 적기
- n진수를 10진수로 변환
  - 각 자리의 수에 해당 단위의 값을 곱해 모두 더하기

### 실수의 진법변환
- 10진 소수점수를 2진 소수점수로 변환하는 방법
  - 10진수 0.625를 2진수로 변환하기
    ![10진수를 2진수로 변환하기](/assets/img/blog/java-basic-3-2.jpeg){:.border.lead width="480" height="480" loading="lazy"}

### 음수의 2진 표현 - 2의 보수법
- 2진수로 '10'은 자리올림이 발생하고 0이 되는 수
- 2의 보수 관계에 있는 두 2진수를 더하면 (자리올림이 발생하고) 0이 됨
- 음수를 2진수로 표현하기
  1. 절대값
    - -5 ➜ 5
  2. 2진수
    - 0101(2)
  3. 2의 보수
    - 1011(2)

- 2의 보수 = 1의 보수 + 1
- 왜 '1의 보수 + 1'은 '2의 보수'인가?
  - 어떤 2진수가 있을 때, 이 2진수의 1의 보수를 더하면 모든 자리가 1이됨
  - 양변에 1을 더하면 우변은 0이 되고 올림이 발생하지만 4비트를 넘기때문에 버려짐
  - 결국에는 0이 되므로 '1의 보수 + 1'은 '2의 보수'와 같음

## 기본형(Primitive type)

### 논리형 - boolean
- true와 false 중 하나를 저장, 기본값(default)은 false
- 대답(yes/no), 스위치(on/off) 등의 논리구현에 주로 사용
- 크기: 1byte

### 문자형 - char
- 문자를 저장하기 위한 변수를 선언한 떄 사용
- `char ch = 'A';`: 문자의 유니코드(정수)가 저장
- 어떤 문자의 유니코드를 알고 싶으면 char형 변수에 저장된 값을 정수형으로 `casting`
- 특수 문자 다루기

  |특수문자|문자리터럴|
  |:---|:---|
  |`tab`|`\t`|
  |`backspace`|`\b`|
  |`form feed`|`\f`|
  |`new line`|`\n`|
  |`carriage return`|`\r`|
  |`역슬래쉬(\)`|`\\`|
  |`작은따옴표`|`\'`|
  |`큰따옴표`|`\"`|
  |`유니코드(16진수) 문자`|`\u유니코드 (예: char a='\u0041')`|

- char타입의 표현형식
  - char타입은 2byte(=16bit)이므로, 16자리의 2진수로 표현할 수 있는 정수의 개수인 65,536개의 코드 사용 가능

```
short타입의 표현범위: -2^15 ~ 2^15 - 1 (-32768 ~ 32767)
char타입의 표현범위: 0 ~ 2^15 - 1 (0 ~ 65535)
```

- 인코딩과 디코딩(encoding & decoding)
  - 인코딩: 문자를 코드로 변환하는 것
  - 디코딩: 코드를 문자로 변환하는 것

- 아스키(ASCII, American Standard Code for Information Interchange)
  - 128개의 문자 집합을 제공하는 7bit부호
  - 숫자 '0~9', 영문자 'A~Z'와 'a~z'가 연속적으로 배치

- 확장 아스키(Extended ASCII)와 한글
  - 일반적으로 데이터는 byte단위로 다뤄지는데 아스키는 7bit이므로 1bit가 남게됨
  - 남는 공간을 활용해 문자를 추가로 정의한 것이 확장 아스키
  - 새롭게 추가된 128개의 문자는 여러 국가와 기업에서 서로의 필요에 따라 다르게 정의
  - ISO에서 발표한 대표적인 표준은 'ISO 8859-1'

- 코드 페이지(code page, cp)
  - 확장 아스키의 256개의 문자를 어떤 숫자로 변환할 것인지 적어놓은 '문자 코드표'
  - 한글 윈도우는 'CP 949', 영문 윈도우는 'CP 437' 사용

- 유니코드(Unicode)
  - 전 세계의 모든 문자를 하나의 통일된 문자집합으로 표현한 것
  - 유니코드 문자 셋: 유니코드에 포함시키고자 하는 문자들의 집합
  - 유니코드 인코딩: 유니코드 문자 셋에 번호를 붙인 것
  - 자바는 `UTF-16` 사용
    - 모든 문자를 2byte의 고정크기로 표현

### 정수형 - byte, short, int, long
- 정수형의 표현형식과 범위
  ![10진수를 2진수로 변환하기](/assets/img/blog/java-basic-3-3.jpeg){:.border.lead width="480" height="480" loading="lazy"}
```
n비트로 표현할 수 있는 정수의 개수: 2^n개
n비트로 표현할 수 있는 정수의 범위: -2^(n-1) ~ 2^(n-1) - 1
```
- 타입의 크기만 알면, 모든 정수형의 표현범위를 쉽게 계산할 수 있음
- 정수형의 선택 기준
  - 정수형 변수를 선언할 떄는 `int` 타입으로 하고, int의 범위(약 ±20억)를 넘어서는 수를 다뤄야할 떄는 `long`사용
- 정수형의 오버플로우
  - 오버플로우(overflow): 해당 타입이 표현할 수 있는 값의 범위를 넘어서는 것
  - 정수형 타입이 표현할 수 있는 최대값에 1을 더하면 최소값이 되고, 최소값에서 1을 빼면 최대값이 됨
- 부호있는 정수의 오버플로우
  - 부호없는 정수는 2진수로 '0000'이 될 때, 부호있는 정수는 부호비트가 0에서 1이 될 때 오버플로우가 발생
  ~~~java
  public static void main(String[] args) {
    short sMin = -32768;
    short sMax = 32767;
    char cMin = 0;
    char cMax = 65535;

    System.out.println("sMin = " + sMin);
    System.out.println("sMin-1 = " + (short)(sMin-1));
    System.out.println("sMax = " + sMax);
    System.out.println("sMax+1 = " + (short)(sMax+1));
    System.out.println("cMin = " + (int)cMin);
    System.out.println("cMin-1 = " + (int)--cMin);
    System.out.println("cMax = " + (int)cMax);
    System.out.println("cMax+1 = " + (int)++cMax);
  }
  ~~~
  ```
  sMin = -32768
  sMin-1 = 32767
  sMax = 32767
  sMax+1 = -32768
  cMin = 0
  cMin-1 = 65535
  cMax = 65535
  cMax+1 = 0
  ```

### 실수형 - float, double
- 실수형의 경우 정수형과 달리 오버플로우가 발생하면 변수의 값이 무한대(infinity)가 됨
- 정수형에는 없는 언더플로우(underflow) 존재 -> 양의 최소값보다 작은 값이 되는 경우로 변수의 값이 0이 됨
- 실수형은 부호(S), 지수(E), 가수(M) 세 부분으로 구성
- 실수형의 값을 출력하기 위해서는 printf메서드의 지시자 `%f` 사용
- 실수형의 저장형식

  |기호|의미|설명|
  |:---:|:---|:---|
  |S|부호(Sign bit)|0이면 양수, 1이면 음수|
  |E|지수(Exponent)|부호있는 정수, 지수의 범위는 -127~128(float), -1023~1024(double|
  |M|가수(Mantissa)|실제값을 저장하는 부분, 10진수로 7자리(float), 15자리(double)의 정밀도로 저장 가능|

  ![10진수를 2진수로 변환하기](/assets/img/blog/java-basic-3-4.jpeg){:.border.lead width="480" height="480" loading="lazy"}
  
## 형변환
- 변수 또는 상수의 타입을 다른 타입으로 변환하는 것
- 형 변환 방법: `(타입)피연산자`
- 기본형(Primitive type)에서 boolean을 제외한 나머지 타입들은 서로 형변환 가능

### 정수형간의 형변환
- 큰 타입에서 작은 타입으로 변환할 시 값 손실(loss of data)이 발생할 수 있음
- 작은 타입에서 큰 타입으로 변환할 시 값 손실은 없고 나머지 빈공간은 0 또는 1로 채워짐
- `Integer.toBinaryString(int i)`를 사용하여 10진 정수를 2진 정수로 변환할 수 있음

### 실수형 간의 형변환
- 작은 타입에서 큰 타입으로 변환하는 경우, 빈 공간을 0으로 채움

### 정수형과 실수형 간의 형변환
- 정수형을 실수형으로 변환
  - 정수를 2진수로 변환 -> 정규화하여 실수의 저장형식에 맞게 저장
- 실수형을 정수형으로 변환
  - 실수형을 정수형으로 형변환시 반올림이 발생하지 않음 = 소수점 이하는 버려짐

### 자동 형변환
- 기존의 값을 최대한 보존할 수 있는 타입으로 자동 형변환
- boolean을 제외한 나머지 7개의 기본형은 서로 형변환 가능
- 기본형과 참조형은 서로 형변환할 수 없음
- 서로 다른 타입의 변수간의 연산은 형변환을 하는 것이 원칙이지만, 값의 범위가 작은 타입에서 큰 타입으로의 형변환은 생략할 수 있음